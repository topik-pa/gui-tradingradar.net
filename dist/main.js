(()=>{"use strict";const e=()=>{const e=document.querySelector("header"),t=e.querySelector(".icon-menu"),s=e.querySelector("nav");t.addEventListener("click",(()=>{s.classList.toggle("show")}))},t=()=>{const e=document.querySelector("#cookie_layer_accept"),t=document.querySelector("#cookie_layer");""===function(e){const t="tradingradar-net-privacy=",s=document.cookie.split(";");for(let e=0;e<s.length;e++){let n=s[e];for(;" "===n.charAt(0);)n=n.substring(1);if(0===n.indexOf(t))return n.substring(t.length,n.length)}return""}()&&setTimeout((()=>{t.classList.add("active")}),3e3),e.addEventListener("click",(e=>{e.preventDefault(),function(e,t,s){const n=new Date;n.setTime(n.getTime()+10368e6);const o="expires="+n.toUTCString();document.cookie="tradingradar-net-privacy=true;"+o+";path=/"}(),t.classList.remove("active")}))},s=()=>{const e=document.getElementById("goto_top"),t="visible";window.addEventListener("scroll",function(e,t=300){let s;return(...n)=>{clearTimeout(s),s=setTimeout((()=>{e.apply(this,n)}),t)}}((function(){window.scrollY>=200?e.classList.add(t):e.classList.remove(t)}))),e.addEventListener("click",(()=>{window.scrollTo({top:0,behavior:"smooth"})}))},n=document.getElementById("stocks_list"),o=n.getElementsByClassName("alphabet")[0],a=n.getElementsByClassName("stocks")[0],c=new Set;function r(e="A"){const t=a.getElementsByClassName("stock");Array.from(t).forEach((t=>{c.add(t.dataset.letter),t.dataset.letter.toUpperCase()===e?t.classList.remove("hide"):t.classList.add("hide")}))}const i=()=>{r(),function(){const e=o.querySelectorAll("span");Array.from(e).forEach((e=>{c.has(e.innerText)?e.addEventListener("click",(()=>{r(e.innerText)})):e.classList.add("disabled")}))}()},d=async(e="/api/")=>{const t={};return await fetch(e,{method:"GET"}).then((e=>(t.status=e.status,e.json()))).then((e=>{t.body=e})).catch((e=>{console.error(e)})),t},l=document.getElementById("api_list"),m=["idle","loading","success","error"],u=[{id:0,category:"performance",name:"perf1M",qp:"order=desc",stocks:void 0,status:"idle"},{id:1,category:"performance",name:"perf6M",qp:"order=desc",stocks:void 0,status:"idle"},{id:2,category:"performance",name:"perf1Y",qp:"order=desc",stocks:void 0,status:"idle"}];function p(e){const t=l.getElementsByClassName(e.name)[0];if(t.classList.remove(...m),t.classList.add(e.status),e.stocks){const s=t.getElementsByTagName("ul")[0];for(const t of e.stocks){const n=document.createElement("li"),o=document.createElement("a");o.innerText=t.name,o.title=t.name,o.href=`/analisi/${encodeURI(t.name.toLowerCase())}?isin=${t.isin}`;const a=document.createElement("span");a.innerText=t[e.name].value,n.appendChild(o),n.appendChild(a),s.appendChild(n)}t.appendChild(s)}}const y=async()=>{!async function(){for(const e of u){e.status="loading",p(e);try{const t=await d(`api/stocks/${e.name}/?${e.qp}`);e.stocks=t.body,e.status="success"}catch(t){e.status="error",console.error(t)}p(e)}}()},f=async()=>{i(),y()};e(),t(),s(),f()})();